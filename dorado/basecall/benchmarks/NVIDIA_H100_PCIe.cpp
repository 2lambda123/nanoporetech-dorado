#include "NVIDIA_H100_PCIe.h"

namespace dorado::basecall {

void AddNVIDIA_H100_PCIeBenchmarks(std::map<std::pair<std::string, std::string>,
                                            std::unordered_map<int, float>>& chunk_benchmarks) {
    chunk_benchmarks[{"NVIDIA H100 PCIe", "dna_r10.4.1_e8.2_260bps_fast@v4.1.0"}] = {
            {64, 0.078797f},   {128, 0.043509f},  {192, 0.030815f}, {256, 0.025591f},
            {320, 0.021523f},  {384, 0.019044f},  {448, 0.017026f}, {640, 0.016945f},
            {704, 0.016273f},  {768, 0.015319f},  {832, 0.014691f}, {896, 0.014553f},
            {1344, 0.014391f}, {2688, 0.014382f},
    };
    chunk_benchmarks[{"NVIDIA H100 PCIe", "dna_r10.4.1_e8.2_260bps_hac@v4.1.0"}] = {
            {64, 0.528259f},   {128, 0.271037f},  {192, 0.184019f},  {256, 0.140560f},
            {320, 0.114443f},  {384, 0.096884f},  {448, 0.084495f},  {512, 0.075768f},
            {576, 0.069271f},  {768, 0.068306f},  {832, 0.064156f},  {896, 0.060826f},
            {960, 0.058312f},  {1024, 0.056331f}, {1088, 0.054253f}, {1152, 0.053289f},
            {1216, 0.051702f}, {1728, 0.051284f}, {1792, 0.050611f}, {2240, 0.050357f},
            {2304, 0.049444f}, {2944, 0.049264f}, {3520, 0.049161f}, {3584, 0.048973f},
            {3648, 0.048282f}, {4864, 0.048165f}, {5440, 0.048068f}, {6080, 0.047948f},
            {7296, 0.045504f},
    };
    chunk_benchmarks[{"NVIDIA H100 PCIe", "dna_r10.4.1_e8.2_260bps_sup@v4.1.0"}] = {
            {64, 2.393699f},   {128, 1.204727f},  {192, 0.816376f},  {256, 0.634414f},
            {320, 0.528240f},  {384, 0.456929f},  {448, 0.402296f},  {512, 0.383038f},
            {576, 0.358024f},  {640, 0.340831f},  {704, 0.323885f},  {768, 0.309724f},
            {832, 0.300084f},  {896, 0.288210f},  {1472, 0.287585f}, {1600, 0.284894f},
            {1664, 0.284757f}, {1920, 0.282719f}, {2048, 0.282562f}, {2432, 0.282440f},
    };
    chunk_benchmarks[{"NVIDIA H100 PCIe", "dna_r10.4.1_e8.2_400bps_fast@v4.1.0"}] = {
            {64, 0.078704f},  {128, 0.043428f}, {192, 0.030854f}, {256, 0.025626f},
            {320, 0.021566f}, {384, 0.019029f}, {448, 0.017062f}, {640, 0.016985f},
            {704, 0.016302f}, {768, 0.015872f}, {832, 0.015165f}, {896, 0.014186f},
    };
    chunk_benchmarks[{"NVIDIA H100 PCIe", "dna_r10.4.1_e8.2_400bps_fast@v4.3.0"}] = {
            {64, 0.066815f},   {128, 0.037434f},  {192, 0.026646f}, {256, 0.022228f},
            {320, 0.018754f},  {384, 0.016576f},  {448, 0.014807f}, {640, 0.014654f},
            {704, 0.014106f},  {768, 0.013266f},  {832, 0.012754f}, {896, 0.012288f},
            {1728, 0.012249f}, {1792, 0.012121f},
    };
    chunk_benchmarks[{"NVIDIA H100 PCIe", "dna_r10.4.1_e8.2_400bps_fast@v5.0.0"}] = {
            {64, 0.069537f},   {128, 0.037308f}, {192, 0.026475f}, {256, 0.022186f},
            {320, 0.018647f},  {384, 0.016550f}, {448, 0.014738f}, {640, 0.014636f},
            {704, 0.014075f},  {768, 0.013277f}, {832, 0.012747f}, {896, 0.012297f},
            {4096, 0.012274f},
    };
    chunk_benchmarks[{"NVIDIA H100 PCIe", "dna_r10.4.1_e8.2_400bps_hac@v4.1.0"}] = {
            {64, 0.526322f},   {128, 0.271173f},  {192, 0.183288f},  {256, 0.141063f},
            {320, 0.114629f},  {384, 0.096663f},  {448, 0.084518f},  {512, 0.075949f},
            {576, 0.069253f},  {768, 0.068378f},  {832, 0.064338f},  {896, 0.059270f},
            {960, 0.058152f},  {1024, 0.056226f}, {1088, 0.054381f}, {1152, 0.053485f},
            {1216, 0.051286f}, {1792, 0.050395f}, {2304, 0.050316f}, {2368, 0.049393f},
            {3008, 0.048785f}, {3648, 0.048333f}, {5312, 0.048330f}, {5440, 0.048311f},
            {5952, 0.048067f}, {7168, 0.048023f}, {7296, 0.045330f},
    };
    chunk_benchmarks[{"NVIDIA H100 PCIe", "dna_r10.4.1_e8.2_400bps_hac@v4.3.0"}] = {
            {64, 0.292015f},   {128, 0.149822f},  {192, 0.102836f},  {256, 0.080102f},
            {320, 0.065211f},  {384, 0.055947f},  {448, 0.049343f},  {512, 0.044907f},
            {576, 0.041733f},  {896, 0.041470f},  {960, 0.039272f},  {1024, 0.037652f},
            {1088, 0.036406f}, {1152, 0.035299f}, {1216, 0.034485f}, {1728, 0.034064f},
            {1792, 0.033308f}, {2368, 0.033053f}, {2432, 0.032171f}, {3008, 0.032066f},
            {3520, 0.031944f}, {3584, 0.031922f}, {3648, 0.031888f}, {4160, 0.031810f},
            {4224, 0.031629f}, {4800, 0.031433f}, {6080, 0.031275f}, {8512, 0.031224f},
            {9600, 0.031176f}, {9728, 0.031067f},
    };
    chunk_benchmarks[{"NVIDIA H100 PCIe", "dna_r10.4.1_e8.2_400bps_hac@v5.0.0"}] = {
            {64, 0.289563f},   {128, 0.150843f},  {192, 0.103176f},  {256, 0.080035f},
            {320, 0.065333f},  {384, 0.055979f},  {448, 0.049240f},  {512, 0.045115f},
            {576, 0.041985f},  {896, 0.041554f},  {960, 0.039291f},  {1024, 0.037681f},
            {1088, 0.036301f}, {1152, 0.035816f}, {1216, 0.034892f}, {1664, 0.034547f},
            {1728, 0.034207f}, {1792, 0.033628f}, {2304, 0.033157f}, {2368, 0.032824f},
            {2432, 0.032556f}, {3008, 0.032101f}, {3584, 0.031750f}, {4800, 0.031609f},
            {4864, 0.031356f}, {7232, 0.031346f}, {8512, 0.031252f}, {9600, 0.031162f},
            {9728, 0.031018f},
    };
    chunk_benchmarks[{"NVIDIA H100 PCIe", "dna_r10.4.1_e8.2_400bps_sup@v4.1.0"}] = {
            {64, 2.399114f},   {128, 1.204757f}, {192, 0.815720f},  {256, 0.634149f},
            {320, 0.527340f},  {384, 0.452125f}, {448, 0.405586f},  {512, 0.386922f},
            {576, 0.360241f},  {640, 0.340222f}, {704, 0.324413f},  {768, 0.309395f},
            {832, 0.300500f},  {896, 0.289094f}, {1536, 0.287560f}, {1600, 0.284912f},
            {2368, 0.282284f},
    };
    chunk_benchmarks[{"NVIDIA H100 PCIe", "dna_r10.4.1_e8.2_400bps_sup@v4.3.0"}] = {
            {64, 2.046638f},   {128, 1.036679f}, {192, 0.702746f},  {256, 0.535859f},
            {320, 0.440739f},  {384, 0.373417f}, {448, 0.322044f},  {512, 0.295423f},
            {576, 0.276724f},  {640, 0.260040f}, {704, 0.249195f},  {768, 0.235129f},
            {832, 0.224208f},  {896, 0.212216f}, {1344, 0.212026f}, {1536, 0.209376f},
            {1600, 0.207714f},
    };
    chunk_benchmarks[{"NVIDIA H100 PCIe", "dna_r10.4.1_e8.2_400bps_sup@v5.0.0"}] = {
            {32, 0.418609f}, {64, 0.376186f}, {352, 0.365317f}, {640, 0.365252f}, {672, 0.364947f},
    };
    chunk_benchmarks[{"NVIDIA H100 PCIe", "dna_r9.4.1_e8_fast@v3.4"}] = {
            {64, 0.127495f},  {128, 0.067238f}, {192, 0.047074f}, {256, 0.037036f},
            {320, 0.030960f}, {384, 0.026977f}, {448, 0.023995f}, {640, 0.023478f},
            {704, 0.021972f}, {768, 0.020736f}, {832, 0.019698f}, {896, 0.018871f},
    };
    chunk_benchmarks[{"NVIDIA H100 PCIe", "dna_r9.4.1_e8_hac@v3.3"}] = {
            {64, 0.526271f},   {128, 0.269114f},  {192, 0.182585f},  {256, 0.139208f},
            {320, 0.113653f},  {384, 0.095992f},  {448, 0.084052f},  {512, 0.075117f},
            {576, 0.069030f},  {768, 0.067486f},  {832, 0.063198f},  {896, 0.059882f},
            {960, 0.056947f},  {1024, 0.055056f}, {1088, 0.053501f}, {1152, 0.051698f},
            {1216, 0.050477f}, {1728, 0.050206f}, {1792, 0.049899f}, {2240, 0.049696f},
            {2304, 0.049386f}, {2368, 0.049020f}, {2432, 0.048654f}, {2944, 0.048449f},
            {3008, 0.048054f}, {3648, 0.047930f}, {4160, 0.047884f}, {4224, 0.047828f},
            {4864, 0.047475f}, {6080, 0.047304f}, {7296, 0.045327f},
    };
    chunk_benchmarks[{"NVIDIA H100 PCIe", "dna_r9.4.1_e8_sup@v3.3"}] = {
            {64, 2.053081f},   {128, 1.041031f},  {192, 0.705701f},  {256, 0.534429f},
            {320, 0.436687f},  {384, 0.373416f},  {448, 0.323614f},  {512, 0.296685f},
            {576, 0.272554f},  {640, 0.258305f},  {704, 0.244658f},  {768, 0.232620f},
            {832, 0.223003f},  {896, 0.214286f},  {960, 0.210144f},  {1024, 0.203681f},
            {1088, 0.200467f}, {1152, 0.194077f}, {1216, 0.190279f}, {2112, 0.189203f},
            {2176, 0.188658f}, {2304, 0.188267f}, {2368, 0.187942f},
    };
    chunk_benchmarks[{"NVIDIA H100 PCIe", "rna004_130bps_fast@v5.1.0"}] = {
            {64, 0.078149f},  {128, 0.057645f}, {192, 0.034572f}, {256, 0.025680f},
            {320, 0.024429f}, {384, 0.019291f}, {448, 0.017237f}, {640, 0.016106f},
            {704, 0.015474f}, {768, 0.014337f}, {832, 0.013602f}, {896, 0.012916f},
    };
    chunk_benchmarks[{"NVIDIA H100 PCIe", "rna004_130bps_hac@v5.1.0"}] = {
            {64, 0.347510f},   {128, 0.180389f},  {192, 0.124050f},  {256, 0.096184f},
            {320, 0.078440f},  {384, 0.066919f},  {448, 0.058794f},  {512, 0.053227f},
            {576, 0.050204f},  {896, 0.049503f},  {960, 0.047184f},  {1024, 0.045269f},
            {1088, 0.043755f}, {1152, 0.043241f}, {1216, 0.041454f}, {1728, 0.040820f},
            {1792, 0.039870f}, {2368, 0.039232f}, {2432, 0.038736f}, {2944, 0.038608f},
            {3008, 0.038276f}, {3520, 0.038230f}, {3648, 0.037715f}, {4224, 0.037671f},
            {4864, 0.037560f}, {6080, 0.037462f}, {7296, 0.037459f}, {9664, 0.037217f},
    };
    chunk_benchmarks[{"NVIDIA H100 PCIe", "rna004_130bps_sup@v5.1.0"}] = {
            {32, 0.580359f},
            {256, 0.541736f},
    };
}

}  // namespace dorado::basecall
