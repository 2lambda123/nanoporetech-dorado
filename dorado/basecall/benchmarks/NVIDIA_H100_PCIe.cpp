#include "NVIDIA_H100_PCIe.h"

namespace dorado::basecall {

void AddNVIDIA_H100_PCIeBenchmarks(
        std::map<std::tuple<std::string, std::string>, std::map<int, float>>& chunk_benchmarks) {
    chunk_benchmarks[{"NVIDIA H100 PCIe", "dna_r10.4.1_e8.2_260bps_fast@v4.1.0"}] = {
            {64, 0.044578f},   {128, 0.021579f}, {192, 0.014460f},  {256, 0.010829f},
            {320, 0.008554f},  {384, 0.007361f}, {448, 0.006244f},  {512, 0.006028f},
            {576, 0.005461f},  {640, 0.005023f}, {704, 0.004793f},  {768, 0.004486f},
            {832, 0.004314f},  {896, 0.004104f}, {2560, 0.004082f}, {3136, 0.003973f},
            {3648, 0.003953f},
    };
    chunk_benchmarks[{"NVIDIA H100 PCIe", "dna_r10.4.1_e8.2_260bps_hac@v4.1.0"}] = {
            {64, 0.153350f},   {128, 0.079143f},  {192, 0.053084f},  {256, 0.040824f},
            {320, 0.033197f},  {384, 0.028208f},  {448, 0.024679f},  {512, 0.022174f},
            {576, 0.020224f},  {768, 0.019942f},  {832, 0.018540f},  {896, 0.017346f},
            {960, 0.016482f},  {1024, 0.015682f}, {1088, 0.015188f}, {1152, 0.014452f},
            {1216, 0.014232f}, {2304, 0.014210f}, {2368, 0.014122f}, {2432, 0.013992f},
            {3008, 0.013859f}, {7296, 0.013277f},
    };
    chunk_benchmarks[{"NVIDIA H100 PCIe", "dna_r10.4.1_e8.2_260bps_sup@v4.1.0"}] = {
            {64, 0.697164f},   {128, 0.350801f}, {192, 0.235269f},  {256, 0.180262f},
            {320, 0.147890f},  {384, 0.127855f}, {448, 0.110842f},  {512, 0.107900f},
            {576, 0.101770f},  {640, 0.098371f}, {704, 0.090353f},  {768, 0.087410f},
            {832, 0.084582f},  {896, 0.082210f}, {1536, 0.081983f}, {1728, 0.081974f},
            {2304, 0.081961f},
    };
    chunk_benchmarks[{"NVIDIA H100 PCIe", "dna_r10.4.1_e8.2_400bps_fast@v4.1.0"}] = {
            {64, 0.045284f},   {128, 0.022213f},  {192, 0.015178f}, {256, 0.013078f},
            {448, 0.006379f},  {512, 0.006095f},  {576, 0.005488f}, {640, 0.005035f},
            {704, 0.004774f},  {768, 0.004501f},  {832, 0.004327f}, {896, 0.004120f},
            {1792, 0.004038f}, {2688, 0.003945f},
    };
    chunk_benchmarks[{"NVIDIA H100 PCIe", "dna_r10.4.1_e8.2_400bps_fast@v4.3.0"}] = {
            {64, 0.051394f},   {128, 0.021599f},  {192, 0.014464f},  {256, 0.010866f},
            {320, 0.008613f},  {384, 0.007144f},  {448, 0.006217f},  {512, 0.006009f},
            {576, 0.005572f},  {640, 0.005157f},  {704, 0.004970f},  {768, 0.004696f},
            {832, 0.004497f},  {896, 0.004280f},  {1344, 0.004237f}, {1792, 0.004165f},
            {2624, 0.004157f}, {2688, 0.004051f},
    };
    chunk_benchmarks[{"NVIDIA H100 PCIe", "dna_r10.4.1_e8.2_400bps_fast@v5.0.0"}] = {
            {64, 0.043404f},   {128, 0.021546f},  {192, 0.014132f},  {256, 0.010565f},
            {320, 0.009945f},  {384, 0.007316f},  {448, 0.006181f},  {512, 0.006042f},
            {576, 0.005554f},  {640, 0.005156f},  {704, 0.004968f},  {768, 0.004676f},
            {832, 0.004499f},  {896, 0.004289f},  {1344, 0.004277f}, {2176, 0.004243f},
            {3008, 0.004221f}, {3136, 0.004215f}, {3904, 0.004210f}, {4032, 0.004146f},
            {4096, 0.004124f},
    };
    chunk_benchmarks[{"NVIDIA H100 PCIe", "dna_r10.4.1_e8.2_400bps_hac@v4.1.0"}] = {
            {64, 0.153424f},   {128, 0.078960f},  {192, 0.052995f},  {256, 0.040733f},
            {320, 0.033297f},  {384, 0.028233f},  {448, 0.024689f},  {512, 0.022120f},
            {576, 0.020160f},  {768, 0.019895f},  {832, 0.018496f},  {896, 0.017356f},
            {960, 0.016524f},  {1024, 0.015871f}, {1088, 0.015256f}, {1152, 0.015188f},
            {1216, 0.014673f}, {1728, 0.014562f}, {1792, 0.014305f}, {2368, 0.014107f},
            {2432, 0.014038f}, {3008, 0.013952f}, {4224, 0.013838f}, {7296, 0.013261f},
    };
    chunk_benchmarks[{"NVIDIA H100 PCIe", "dna_r10.4.1_e8.2_400bps_hac@v4.3.0"}] = {
            {64, 0.102719f},   {128, 0.052791f},  {192, 0.036037f},  {256, 0.027742f},
            {320, 0.022796f},  {384, 0.019412f},  {448, 0.017191f},  {512, 0.015690f},
            {576, 0.014868f},  {896, 0.014623f},  {960, 0.013902f},  {1024, 0.013145f},
            {1088, 0.012640f}, {1152, 0.012304f}, {1216, 0.011916f}, {1664, 0.011711f},
            {1728, 0.011660f}, {1792, 0.011531f}, {2304, 0.011311f}, {2432, 0.011154f},
            {3008, 0.010997f}, {5376, 0.010961f}, {6080, 0.010961f}, {6656, 0.010912f},
            {9728, 0.010885f},
    };
    chunk_benchmarks[{"NVIDIA H100 PCIe", "dna_r10.4.1_e8.2_400bps_hac@v5.0.0"}] = {
            {64, 0.103128f},   {128, 0.052689f},  {192, 0.035810f},  {256, 0.027756f},
            {320, 0.022762f},  {384, 0.019574f},  {448, 0.017204f},  {512, 0.015799f},
            {576, 0.014544f},  {960, 0.013900f},  {1024, 0.013157f}, {1088, 0.012546f},
            {1152, 0.012270f}, {1216, 0.011892f}, {1728, 0.011778f}, {1792, 0.011675f},
            {2304, 0.011483f}, {2368, 0.011340f}, {2432, 0.011106f}, {3008, 0.011040f},
            {3520, 0.011029f}, {3584, 0.011012f}, {6080, 0.010914f},
    };
    chunk_benchmarks[{"NVIDIA H100 PCIe", "dna_r10.4.1_e8.2_400bps_sup@v4.1.0"}] = {
            {64, 0.696465f},  {128, 0.350808f}, {192, 0.237162f},  {256, 0.179431f},
            {320, 0.145436f}, {384, 0.126208f}, {448, 0.111771f},  {512, 0.110238f},
            {576, 0.100404f}, {640, 0.097828f}, {704, 0.090059f},  {768, 0.087041f},
            {832, 0.086128f}, {896, 0.082010f}, {2240, 0.081733f},
    };
    chunk_benchmarks[{"NVIDIA H100 PCIe", "dna_r10.4.1_e8.2_400bps_sup@v4.3.0"}] = {
            {64, 0.709657f},   {128, 0.360032f},  {192, 0.244390f},  {256, 0.186531f},
            {320, 0.153417f},  {384, 0.128738f},  {448, 0.110566f},  {512, 0.101603f},
            {576, 0.095548f},  {640, 0.089636f},  {704, 0.083718f},  {768, 0.079686f},
            {832, 0.077229f},  {896, 0.075398f},  {1152, 0.074524f}, {1472, 0.073421f},
            {1728, 0.073148f}, {1920, 0.072913f}, {2432, 0.072256f},
    };
    chunk_benchmarks[{"NVIDIA H100 PCIe", "dna_r10.4.1_e8.2_400bps_sup@v5.0.0"}] = {
            {32, 0.185691f},
            {64, 0.119687f},
            {96, 0.101696f},
    };
    chunk_benchmarks[{"NVIDIA H100 PCIe", "dna_r9.4.1_e8_fast@v3.4"}] = {
            {64, 0.037812f},   {128, 0.022469f},  {192, 0.015924f},  {256, 0.012335f},
            {320, 0.010219f},  {384, 0.008699f},  {448, 0.007670f},  {640, 0.007054f},
            {704, 0.006625f},  {768, 0.006158f},  {832, 0.005769f},  {896, 0.005480f},
            {1728, 0.005480f}, {1792, 0.005348f}, {3584, 0.005333f}, {3648, 0.005227f},
    };
    chunk_benchmarks[{"NVIDIA H100 PCIe", "dna_r9.4.1_e8_hac@v3.3"}] = {
            {64, 0.150472f},   {128, 0.077537f},  {192, 0.052847f},  {256, 0.040496f},
            {320, 0.033113f},  {384, 0.027920f},  {448, 0.024551f},  {512, 0.021999f},
            {576, 0.020100f},  {768, 0.019852f},  {832, 0.018453f},  {896, 0.017282f},
            {960, 0.016342f},  {1024, 0.015691f}, {1088, 0.015177f}, {1152, 0.014665f},
            {1216, 0.014406f}, {1728, 0.014333f}, {1792, 0.014065f}, {2240, 0.014034f},
            {2304, 0.013924f}, {2944, 0.013889f}, {3008, 0.013804f}, {3584, 0.013711f},
            {3648, 0.013625f}, {7296, 0.013137f},
    };
    chunk_benchmarks[{"NVIDIA H100 PCIe", "dna_r9.4.1_e8_sup@v3.3"}] = {
            {64, 0.595013f},   {128, 0.301783f},  {192, 0.204716f},  {256, 0.155680f},
            {320, 0.126886f},  {384, 0.106993f},  {448, 0.094417f},  {512, 0.082848f},
            {576, 0.077676f},  {640, 0.074490f},  {704, 0.070048f},  {768, 0.065922f},
            {832, 0.064237f},  {896, 0.060635f},  {960, 0.059134f},  {1024, 0.058008f},
            {1088, 0.056561f}, {1152, 0.055545f}, {1216, 0.054105f},
    };
    chunk_benchmarks[{"NVIDIA H100 PCIe", "rna004_130bps_fast@v5.1.0"}] = {
            {64, 0.050193f},   {128, 0.022879f},  {192, 0.014920f},  {256, 0.010575f},
            {320, 0.008565f},  {384, 0.007229f},  {448, 0.006274f},  {512, 0.006210f},
            {576, 0.005638f},  {640, 0.005196f},  {704, 0.004822f},  {768, 0.004522f},
            {896, 0.004047f},  {1216, 0.004028f}, {1280, 0.003911f}, {1664, 0.003900f},
            {1728, 0.003870f}, {1792, 0.003832f}, {2496, 0.003814f}, {2560, 0.003742f},
            {2688, 0.003668f}, {6656, 0.003655f},
    };
    chunk_benchmarks[{"NVIDIA H100 PCIe", "rna004_130bps_hac@v5.1.0"}] = {
            {64, 0.102518f},   {128, 0.052532f},  {192, 0.035802f},  {256, 0.027564f},
            {320, 0.022761f},  {384, 0.019605f},  {448, 0.017283f},  {512, 0.015720f},
            {576, 0.014730f},  {896, 0.014663f},  {960, 0.013902f},  {1024, 0.013201f},
            {1088, 0.012631f}, {1152, 0.012285f}, {1216, 0.011895f}, {1664, 0.011761f},
            {1728, 0.011679f}, {1792, 0.011390f}, {2368, 0.011273f}, {2432, 0.011223f},
            {2944, 0.011200f}, {3008, 0.011119f}, {3648, 0.010986f}, {4864, 0.010963f},
            {7296, 0.010953f}, {8512, 0.010953f}, {9088, 0.010934f},
    };
    chunk_benchmarks[{"NVIDIA H100 PCIe", "rna004_130bps_sup@v5.1.0"}] = {
            {32, 0.183020f},
            {64, 0.118935f},
            {96, 0.101953f},
    };
}

}  // namespace dorado::basecall
